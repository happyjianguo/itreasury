/* Generated by Together  */

package com.iss.itreasury.budget.setting.bizlogic;
import com.iss.itreasury.budget.exception.BudgetException;
import com.iss.itreasury.budget.setting.dao.Budget_ParameterDAO;
import com.iss.itreasury.budget.setting.dataentity.ParameterInfo;
import java.util.Collection;
public class BudgetParameterOperation {
	
	/**
	 * 系统参数的新建或修改(表里只有一条记录)
	 * @param info
	 * @return
	 * @throws BudgetException
	 */
    public long save(ParameterInfo info)   throws BudgetException {
    	Budget_ParameterDAO dao = new Budget_ParameterDAO();
    	long mm=-1;
    	try{ 
    		if(info.getEbankLink()!=1){info.setEbankLink(0);}
    		if(info.getSettmentLink()!=1){info.setSettmentLink(0);}    		
			if(info.getId()<=0){				
				mm=dao.add(info);				 
			}else{
				dao.update(info);
				mm=info.getId();
			}	
    	}catch(Exception ex){
    		ex.printStackTrace();
    		}
    	return mm;
    }
    
    /**
     * 系统参数的全表查询
     * @return
     * @throws BudgetException
     */
    public static Collection findAll()   throws BudgetException{
    		Collection coll=null;
    		ParameterInfo info = new ParameterInfo();	
	    	Budget_ParameterDAO dao = new Budget_ParameterDAO();		    	
	    	try{	    		
	    		coll=dao.findAllParameter () ;	    		
	    	}catch(Exception ex){ex.printStackTrace();}
	    	return coll;
    }
}
